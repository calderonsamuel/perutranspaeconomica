[{"path":[]},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement samuel.calderon@uarm.pe. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Samuel Calderon Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"el-flujo-de-trabajo","dir":"Articles","previous_headings":"","what":"El flujo de trabajo","title":"Elección de parámetros","text":"Como pasa con cualquier paquete en R, para usarlo debemos cargarlo. El flujo de trabajo propuesto por perutranspaeconomica consiste en: Iniciar Elegir Consultar Por lo pronto, iniciar requiere más trabajo que el uso de iniciar_transparencia_economica(). Este documento busca explicar con mayor detalle la manera en que se deben definir los parámetros pasados las funciones elegir_*() para, en combinación con consultar(), poder hacer consultas exitosas. La interacción con el sistema del MEF es mejor aprovechable si se tienen conocimientos acerca de Sistema Nacional de Presupuesto Público. Para ello, recomiendo la lectura del Decreto Legislativo Nº 1440 Decreto Legislativo del Sistema Nacional de Presupuesto Público. En especial del sub capítulo II y III.","code":"library(perutranspaeconomica)"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"funciones-de-elección","dir":"Articles","previous_headings":"","what":"Funciones de elección","title":"Elección de parámetros","text":"El paquete permite especificar todas las consultas que se pueden hacer desde la plataforma del MEF, del 2012 en adelante. continuación se explica cómo definir cada uno de los parámetros. En todos los casos se hará uso de consultar() para ver la tabla consultada.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-periodo-anual","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir periodo anual","title":"Elección de parámetros","text":"Para esto usamos elegir_periodo_anual(). Toda consulta requiere que se defina el periodo anual. Cuando se especifica ningún año dentro de esta función, se usa por defecto el año en curso. Debido que estamos especificando ningún otro parámetro aún, consultar() nos devuelve los datos del presupuesto total. Es la misma información que se obtiene al ingresar la plataforma de manera normal. Es posible especificar más de un año de consulta. Para ello basta con especificar un vector numérico con los años que nos interesan. Cada sección que viene continuación muestra un tipo de elección de detalle con uno o dos gráficos que explican la posible ruta tomando en cuenta los argumentos de la consulta. Al terminar de repasar cada tipo de elección se aclarará qué se hace referencia con “Consulta base”. Para el resto de la explicación se omite mostrar la metadata de la consulta para enfocarnos en los datos obtenidos.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 1 × 10 #>   periodo total          pia          pim certificacion compromiso_anual #>     <dbl> <chr>        <dbl>        <dbl>         <dbl>            <dbl> #> 1    2022 TOTAL 197002269014 237822055719  225523178399     215881080684 #> # ℹ 4 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl> iniciar_transparencia_economica() %>%      elegir_periodo_anual(c(2012, 2014, 2016)) %>%      consultar() #> ℹ Iniciando consulta #> ⠙ 1/3 ETA:  4s | Ejecutando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 3 × 10 #>   periodo total          pia          pim certificacion compromiso_anual #>     <dbl> <chr>        <dbl>        <dbl>         <dbl>            <dbl> #> 1    2012 TOTAL  95534635146 122380231023  104861699373     103676969380 #> 2    2014 TOTAL 118934253913 144805725965  131410018397     129777581135 #> 3    2016 TOTAL 138490511244 158282217927  144536534140     137792009934 #> # ℹ 4 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-quién-gasta","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir quién gasta","title":"Elección de parámetros","text":"Esta función permite buscar la información de ejecución presupuestal según el tipo de entidad que queremos consultar. En su grado más alto de especificidad se puede llegar diferenciar según Unidad Ejecutora, Municipio o Mancomunidad. El gráfico muestra todos los elementos de consulta intermedios los que se puede acceder. Debe tenerse en cuenta que una vez tomada una “ruta” de consulta es posible acceder otra. Por ejemplo, es posible consultar por pliego y departamento al mismo tiempo. manera de ejemplo, si quisiéramos ver todos los niveles de gobierno disponibles lo especificamos en el argumento nivel. Recuerda que siempre es necesario usar elegir_periodo_anual(). Con esto podemos ver que existen tres niveles de gobierno. En caso se escoja profundizar la consulta por Gobierno Nacional o Gobiernos Regionales se estaría tomando el camino de Sector. En este caso, escogemos Gobierno Nacional para ver el presupuesto por sector. Para ello, usamos el código del nivel de gobierno escogido. Nótese que para mayor comodidad en el procesamiento de los datos, se incluyen columnas extras con la metadata de la consulta. Ahora que se sabe cuáles son los sectores que conforman al gobierno nacional, podemos priorizar conocer la ejecución de alguno en específico. Por ejemplo, el sector salud. Para ello, actualizamos nuestros parámetros de búsqueda indicando el código del sector correspondiente y especificando conocer todos los pliegos que lo conforman. Con esto, ahora podemos ver que el sector salud está conformado por cinco pliegos. Puede que ahora querramos ver los datos de las unidades ejecutoras del Ministerio de salud. Nuevamente, especificamos esto en la consulta. Este ha sido el nivel de detalle más profundo que brinda la consulta por esta ruta. El ejercicio es muy similar si se quiere obtener los datos por municipio. Por ejemplo, para conocer los datos de los distritos de la provincia de Cangallo, región Ayacucho.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"todos\") %>%      consultar() #> # A tibble: 3 × 12 #>   periodo cod_nivel_de_gobierno desc_nivel_de_gobierno          pia          pim #>     <dbl> <chr>                 <chr>                         <dbl>        <dbl> #> 1    2022 E                     GOBIERNO NACIONAL      139099209295 134800977215 #> 2    2022 M                     GOBIERNOS LOCALES       21572594607  52638714049 #> 3    2022 R                     GOBIERNOS REGIONALES    36330465112  50382364455 #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"E\", sector = \"todos\") %>%      consultar() #> # A tibble: 30 × 13 #>    periodo cod_sector desc_sector                           pia         pim #>      <dbl> <chr>      <chr>                               <dbl>       <dbl> #>  1    2022 01         PRESIDENCIA CONSEJO MINISTROS  7755356930  5868630182 #>  2    2022 03         CULTURA                         606374213   615384354 #>  3    2022 04         PODER JUDICIAL                 3185867103  3169460209 #>  4    2022 05         AMBIENTAL                       794397975   751245011 #>  5    2022 06         JUSTICIA                       1854961785  2126341231 #>  6    2022 07         INTERIOR                      10880820467 13924845983 #>  7    2022 08         RELACIONES EXTERIORES           848424011   987788424 #>  8    2022 09         ECONOMIA Y FINANZAS           42688806017 34974113894 #>  9    2022 10         EDUCACION                     17250060955 13222235791 #> 10    2022 11         SALUD                         11527638911 13076347305 #> # ℹ 20 more rows #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, sector <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"E\", sector = \"11\", pliego = \"todos\") %>%      consultar() #> # A tibble: 5 × 14 #>   periodo cod_pliego desc_pliego                        pia    pim certificacion #>     <dbl> <chr>      <chr>                            <dbl>  <dbl>         <dbl> #> 1    2022 011        M. DE SALUD                     8.64e9 9.90e9    9319542553 #> 2    2022 131        INSTITUTO NACIONAL DE SALUD     1.33e8 1.48e8     138496300 #> 3    2022 134        SUPERINTENDENCIA NACIONAL DE S… 5.73e7 5.85e7      57624751 #> 4    2022 135        SEGURO INTEGRAL DE SALUD        2.40e9 2.48e9    2464060821 #> 5    2022 136        INSTITUTO NACIONAL DE ENFERMED… 2.95e8 4.82e8     425775210 #> # ℹ 8 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, sector <chr>, pliego <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"E\", sector = \"11\", pliego = \"011\", unidad_ejecutora = \"todos\") %>%      consultar() #> # A tibble: 34 × 15 #>    periodo cod_unidad_ejecutora desc_unidad_ejecutora                 pia    pim #>      <dbl> <chr>                <chr>                               <dbl>  <dbl> #>  1    2022 001-117              ADMINISTRACION CENTRAL - MINSA     2.97e9 1.75e9 #>  2    2022 005-121              INSTITUTO NACIONAL DE SALUD MENTAL 4.01e7 6.37e7 #>  3    2022 007-123              INSTITUTO NACIONAL DE CIENCIAS NE… 4.91e7 7.44e7 #>  4    2022 008-124              INSTITUTO NACIONAL DE OFTALMOLOGIA 4.07e7 6.18e7 #>  5    2022 009-125              INSTITUTO NACIONAL DE REHABILITAC… 3.89e7 5.35e7 #>  6    2022 010-126              INSTITUTO NACIONAL DE SALUD DEL N… 1.85e8 2.69e8 #>  7    2022 011-127              INSTITUTO NACIONAL MATERNO PERINA… 1.20e8 1.87e8 #>  8    2022 016-132              HOSPITAL NACIONAL HIPOLITO UNANUE  1.50e8 2.63e8 #>  9    2022 017-133              HOSPITAL HERMILIO VALDIZAN         4.02e7 5.65e7 #> 10    2022 020-136              HOSPITAL SERGIO BERNALES           8.49e7 1.29e8 #> # ℹ 24 more rows #> # ℹ 10 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, sector <chr>, pliego <chr>, #> #   unidad_ejecutora <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"M\", goblocal_o_manc = \"M\", departamento = \"05\", provincia = \"02\", municipalidad = \"todos\") %>%      consultar() #> # A tibble: 6 × 16 #>   periodo cod_municipalidad desc_municipalidad                        pia    pim #>     <dbl> <chr>             <chr>                                   <dbl>  <dbl> #> 1    2022 050201-300454     MUNICIPALIDAD PROVINCIAL DE CANGALLO   8.42e6 1.88e7 #> 2    2022 050202-300455     MUNICIPALIDAD DISTRITAL DE CHUSCHI     3.18e6 2.97e7 #> 3    2022 050203-300456     MUNICIPALIDAD DISTRITAL DE LOS MOROCH… 1.83e7 3.49e7 #> 4    2022 050204-300457     MUNICIPALIDAD DISTRITAL DE MARIA PARA… 1.12e6 1.08e7 #> 5    2022 050205-300458     MUNICIPALIDAD DISTRITAL DE PARAS       2.84e6 2.01e7 #> 6    2022 050206-300459     MUNICIPALIDAD DISTRITAL DE TOTOS       1.32e6 1.03e7 #> # ℹ 11 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, goblocal_o_manc <chr>, #> #   departamento <chr>, provincia <chr>, municipalidad <chr>"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-en-qué-se-gasta","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir en qué se gasta","title":"Elección de parámetros","text":"Para esta consulta hace falta encadenar la función elegir_en_que_se_gasta(). El sistema de consulta amigable del MEF permite buscar según dos tipos de clasificación, la función mencionada combina ambas clasificaciones en un solo paso (simulando la manera en que funciona la interfaz del MEF). continuación una explicación de la lógica de la búsqueda, cabe mencionar que esta es la parte que puede resultar más complicada de entender, pero se incluye un ejemplo integrador para ilustrar mejor la explicación. En primer lugar, se puede buscar los gastos según su Clasificación Programática. Aquí se empieza definiendo la Categoría Presupuestal, en la que luego se puede especificar el Producto o proyecto. También es posible finalmente buscar las actividades o acciones de inversión u obra. Cabe recordar que esta clasificación está vinculado los Programas Presupuestales (cada categoría presupuestal corresponde con un programa presupuestal. Podríamos decir que esta clasificación trata de responder las siguientes preguntas: Categoría Presupuestal: ¿qué oportunidad de mejora quiero atender en la población? o ¿qué problema de la población quiero resolver o mitigar? Producto: ¿qué bienes o servicios puedo entregar la población para atender o mitigar el problema identificado? Actividad: ¿qué voy hacer de manera más específica para lograr brindar esos bienes o servicios? La segunda clasificación es la Funcional, en la que es posible llegar hasta el detalle de grupo funcional. En otras palabras, ” constituye una clasificación detallada de las funciones cargo del Estado y tiene por objeto facilitar el seguimiento, exposición y análisis de las tendencias del gasto público respecto las principales funciones del Estado”1. Habiendo llegado hasta el nivel de detalle de Actividad según la Clasificación Programática y al mismo tiempo hasta el nivel de Grupo Funcional según la Clasificación Funcional, es posible obtener la información de la Meta Presupuestaria, que indica cómo se mide el avance de lo programado. continuación un ejemplo para ilustrar la explicación. Empezamos viendo las categorías presupuestales. Recordemos que estas se nombran (o al menos se deberían nombrar) como una acción respecto un problema resolver. En este caso hacemos la búsqueda para el 2021. Vemos que para el 2021 se definieron 92 categorías presupuestales. Sabemos que en el país se produce una alta cantidad de drogas cocaínicas, así que nos interesa ver qué productos se han definido para el Programa Presupuestal 0031 “Reducción del tráfico ilícito de drogas”. La tabla obtenida nos muestra información de los productos de este programa presupuestal, pero también de proyectos de inversión vinculados. Podemos reconocer los productos porque cuentan con una codificación que empieza con “30”. Debido que el insumo de primordial es la hoja de coca, nos interesa ver qué presupuesto tienen las actividades que se hacen para reducir los cultivos ilícitos. La tabla nos muestra que dicho producto cuenta con código “3000490”. La nueva consulta nos indica que la actividad específica de “Reducción de hectáreas de plantaciones ilegales” contó con un presupuesto institucional de apertura de 1000000 de soles, de los cuales se tiene 0% de avance. Esto significa que el Estado el 2021 haya usado su presupuesto disponible para reducir los cultivos ilegales, podemos ver que el resto de actividades del producto tienen valores superiores al 88% en todos los casos. Es posible consultar el mismo tema través de la clasificación funcional. Empecemos viendo todas las funciones del 2021. En este caso obtenemos 25 resultados, que corresponden con las funciones principales del Estado. Este listado puede ayudar entender mejor la diferencia con el otro tipo de clasificación. La Clasificación Programática divide el presupuesto de acuerdo los problemas que el Estado tiene que atender. Dichos problemas pueden ir variando con el tiempo, se pueden mitigar o pueden aparecer nuevos más urgentes. Por ejemplo, si de pronto la seguridad ciudadana se viera amenazada constantemente por el avance de pandillas y crimenes asociados ellas, se podría pensar en incluir un programa para mitigar esto. Como en la actualidad se considera ello como problema público, existe dentro de la Clasificación Programática. En cambio, la Clasificación Funcional abarca las funciones primordiales del Estado, aquellas que como ciudadanos podemos dejar de percibir. Esto es, independientemente de cuáles sean los problemas específicos pendientes de solucionar, el Estado puede dejar de brindarnos Orden Público, Seguridad, Justicia, o Legislación, por nombrar algunas funciones. Para seguir con el ejemplo, el tema del tráfico ilícito de drogas se aborda dentro de la Función Orden Público y Seguridad (código 05). Procedemos con la consulta para conocer las divisiones funcionales. En las divisiones funcionales podemos ver de manera más específica aquello que el Estado debe brindar en relación al Orden Interno y Seguridad. Nuevamente vemos que independientemente de los problemas existentes, un Estado debe ser capaz de proveer Asistencia Social, Seguridad Jurídica, Gestión de Riesgos y Emergencias, entre otras cosas. Podemos suponer que el tráfico ilícito de drogas se abarca dentro del Control de drogas (código 015). Procedemos consultar sus grupos funcionales. De esta manera, podemos ver que en la división funcional Control de Drogas, se tiene los grupos funcionales “Desarrollo alternativo”, “Prevención y Rehabilitación”, e “Interdicción, lavado de dinero y delitos conexos”. En este punto, podemos empezar consultar también según la Clasificación Programática. Recordemos que estábamos consultando acerca de la reducción de cultivos ilícitos. En los grupos funcionales encontrados, el de “Interdicción, lavado de dinero y delitos conexos” parece más relacionado. Veamos qué programas presupuestales abordan este grupo funcional. Vemos que son dos. En este punto, debería causar sorpresa que uno de ellos sea el Programa Presupuestal 0031 que vimos anteriormente. Podemos seguir viendo cuáles de sus productos son abordados en el grupo funcional. diferencia de cuando consultamos partiendo sólo de la Clasificación Programática, vemos que el grupo funcional escogido incluye el producto de “PROCESOS JUDICIALES CON INTERVENCION DE LA PROCURADURIA PUBLICA CONTRA EL TRAFICO ILICITO DE DROGAS Y LAVADO DE ACTIVOS”. Lógicamente, podemos ver qué actividades de la reducción de cultivos ilícitos se incluyen. Vemos que dentro del grupo funcional se incluyen todas las actividades del producto, así como todo el presupuesto. Puede parecer redundante, pero hacer todo este camino es esencial para identificar el presupuesto asignado cada meta de las actividades. En este caso, veremos las metas de la actividad “5003057 Operaciones de seguridad para la reducción de las áreas de cultivo ilícito” que tuvo una ejecución del 94.7%. En este caso, la tabla nos muestra que la meta fueron 736 Operaciones, de las cuales se tuvo un avance físico de 228 (31%). En otras palabras, pesar de un buen alto nivel de ejecución presupuestal, el avance físico fue bajo. En este punto cabe preguntarse cómo se calculó la correspondencia entre las metas y el presupuesto, que puede dar pie una investigación más profunda.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(categoria_presupuestal = \"todos\") %>%     consultar() #> # A tibble: 92 × 12 #>    periodo cod_categoria_presupue…¹ desc_categoria_presupuestal       pia    pim #>      <dbl> <chr>                    <chr>                           <dbl>  <dbl> #>  1    2021 0001                     PROGRAMA ARTICULADO NUTRICION… 2.39e9 2.90e9 #>  2    2021 0002                     SALUD MATERNO NEONATAL         1.92e9 2.33e9 #>  3    2021 0016                     TBC-VIH/SIDA                   7.13e8 6.92e8 #>  4    2021 0017                     ENFERMEDADES METAXENICAS Y ZO… 3.61e8 4.09e8 #>  5    2021 0018                     ENFERMEDADES NO TRANSMISIBLES  6.04e8 7.23e8 #>  6    2021 0024                     PREVENCION Y CONTROL DEL CANC… 5.26e8 7.91e8 #>  7    2021 0030                     REDUCCION DE DELITOS Y FALTAS… 4.54e9 5.05e9 #>  8    2021 0031                     REDUCCION DEL TRAFICO ILICITO… 2.63e8 2.76e8 #>  9    2021 0032                     LUCHA CONTRA EL TERRORISMO     3.03e8 3.09e8 #> 10    2021 0036                     GESTION INTEGRAL DE RESIDUOS … 1.49e9 2.39e9 #> # ℹ 82 more rows #> # ℹ abbreviated name: ¹​cod_categoria_presupuestal #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(categoria_presupuestal = \"0031\", producto =  \"todos\") %>%     consultar()  #> # A tibble: 5 × 13 #>   periodo cod_proyecto desc_proyecto                                  pia    pim #>     <dbl> <chr>        <chr>                                        <dbl>  <dbl> #> 1    2021 2522056      ADQUISICION DE VEHICULO; EN EL(LA) UNIDAD … 0      2.18e5 #> 2    2021 3000001      ACCIONES COMUNES                            7.94e6 8.51e6 #> 3    2021 3000294      OPERACIONES DE INTERDICCION CONTRA EL TRAF… 2.28e8 2.37e8 #> 4    2021 3000490      HECTAREAS REDUCIDAS DE CULTIVOS ILICITOS D… 1.99e7 1.98e7 #> 5    2021 3000492      PROCESOS JUDICIALES CON INTERVENCION DE LA… 7.46e6 1.01e7 #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, producto <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         categoria_presupuestal = \"0031\",          producto =  \"3000490\",          actividad = \"todos\"     ) %>%     consultar() #> # A tibble: 4 × 14 #>   periodo cod_actividad_accion_de…¹ desc_actividad_accion_de_inv…²    pia    pim #>     <dbl> <chr>                     <chr>                           <dbl>  <dbl> #> 1    2021 5003057                   OPERACIONES DE SEGURIDAD PARA… 4.97e6 5.87e6 #> 2    2021 5004070                   REDUCCION DE HECTAREAS DE PLA… 1   e6 0      #> 3    2021 5004072                   SOPORTE AEREO PARA LA REDUCCI… 1.28e7 1.32e7 #> 4    2021 5004970                   ASISTENCIA A LA POBLACION POR… 1.17e6 7.12e5 #> # ℹ abbreviated names: ¹​cod_actividad_accion_de_inversion_obra, #> #   ²​desc_actividad_accion_de_inversion_obra #> # ℹ 9 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, producto <chr>, #> #   actividad <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(funcion = \"todos\") %>%      consultar() #> # A tibble: 25 × 12 #>    periodo cod_funcion desc_funcion                                  pia     pim #>      <dbl> <chr>       <chr>                                       <dbl>   <dbl> #>  1    2021 01          LEGISLATIVA                               6.15e 8 6.11e 8 #>  2    2021 02          RELACIONES EXTERIORES                     7.60e 8 9.95e 8 #>  3    2021 03          PLANEAMIENTO, GESTION Y RESERVA DE CONTI… 2.41e10 2.23e10 #>  4    2021 04          DEFENSA Y SEGURIDAD NACIONAL              4.98e 9 5.57e 9 #>  5    2021 05          ORDEN PUBLICO Y SEGURIDAD                 1.06e10 1.26e10 #>  6    2021 06          JUSTICIA                                  6.93e 9 6.96e 9 #>  7    2021 07          TRABAJO                                   5.16e 8 3.63e 9 #>  8    2021 08          COMERCIO                                  5.23e 8 7.16e 8 #>  9    2021 09          TURISMO                                   4.38e 8 6.49e 8 #> 10    2021 10          AGROPECUARIA                              8.75e 9 7.11e 9 #> # ℹ 15 more rows #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, funcion <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         funcion = \"05\",         division_funcional = \"todos\"     ) %>%      consultar() #> # A tibble: 8 × 13 #>   periodo cod_division_funcional desc_division_funcional              pia    pim #>     <dbl> <chr>                  <chr>                              <dbl>  <dbl> #> 1    2021 004                    PLANEAMIENTO GUBERNAMENTAL        8.53e7 6.67e7 #> 2    2021 006                    GESTION                           1.37e9 1.41e9 #> 3    2021 011                    TRANSFERENCIAS E INTERMEDIACION … 4.08e7 6.24e7 #> 4    2021 014                    ORDEN INTERNO                     7.67e9 8.37e9 #> 5    2021 015                    CONTROL DE DROGAS                 4.50e8 5.04e8 #> 6    2021 016                    GESTION DE RIESGOS Y EMERGENCIAS  9.37e8 2.18e9 #> 7    2021 018                    SEGURIDAD JURIDICA                2.21e7 2.49e7 #> 8    2021 051                    ASISTENCIA SOCIAL                 2.72e6 2.03e6 #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, funcion <chr>, division_funcional <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         funcion = \"05\",          division_funcional = \"015\",         grupo_funcional = \"todos\"     ) %>%     consultar() #> # A tibble: 3 × 14 #>   periodo cod_grupo_funcional desc_grupo_funcional                    pia    pim #>     <dbl> <chr>               <chr>                                 <dbl>  <dbl> #> 1    2021 0032                DESARROLLO ALTERNATIVO               9.78e7 1.41e8 #> 2    2021 0033                PREVENCION Y REHABILITACION          8.46e6 7.84e6 #> 3    2021 0034                INTERDICCION, LAVADO DE DINERO Y DE… 3.43e8 3.55e8 #> # ℹ 9 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, funcion <chr>, division_funcional <chr>, #> #   grupo_funcional <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         funcion = \"05\",          division_funcional = \"015\",         grupo_funcional = \"0034\",         categoria_presupuestal = \"todos\"     ) %>%     consultar() #> # A tibble: 2 × 15 #>   periodo cod_categoria_presupues…¹ desc_categoria_presupuestal       pia    pim #>     <dbl> <chr>                     <chr>                           <dbl>  <dbl> #> 1    2021 0031                      REDUCCION DEL TRAFICO ILICITO… 2.56e8 2.65e8 #> 2    2021 0074                      GESTION INTEGRADA Y EFECTIVA … 8.75e7 8.99e7 #> # ℹ abbreviated name: ¹​cod_categoria_presupuestal #> # ℹ 10 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, funcion <chr>, #> #   division_funcional <chr>, grupo_funcional <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         funcion = \"05\",          division_funcional = \"015\",         grupo_funcional = \"0034\",         categoria_presupuestal = \"0031\",         producto = \"todos\"     ) %>%     consultar() #> # A tibble: 4 × 16 #>   periodo cod_proyecto desc_proyecto                                  pia    pim #>     <dbl> <chr>        <chr>                                        <dbl>  <dbl> #> 1    2021 2522056      ADQUISICION DE VEHICULO; EN EL(LA) UNIDAD … 0      2.18e5 #> 2    2021 3000001      ACCIONES COMUNES                            7.94e6 8.51e6 #> 3    2021 3000294      OPERACIONES DE INTERDICCION CONTRA EL TRAF… 2.28e8 2.37e8 #> 4    2021 3000490      HECTAREAS REDUCIDAS DE CULTIVOS ILICITOS D… 1.99e7 1.98e7 #> # ℹ 11 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, producto <chr>, #> #   funcion <chr>, division_funcional <chr>, grupo_funcional <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         funcion = \"05\",          division_funcional = \"015\",         grupo_funcional = \"0034\",         categoria_presupuestal = \"0031\",         producto = \"3000490\",         actividad = \"todos\"     ) %>%     consultar() #> # A tibble: 4 × 17 #>   periodo cod_actividad_accion_de…¹ desc_actividad_accion_de_inv…²    pia    pim #>     <dbl> <chr>                     <chr>                           <dbl>  <dbl> #> 1    2021 5003057                   OPERACIONES DE SEGURIDAD PARA… 4.97e6 5.87e6 #> 2    2021 5004070                   REDUCCION DE HECTAREAS DE PLA… 1   e6 0      #> 3    2021 5004072                   SOPORTE AEREO PARA LA REDUCCI… 1.28e7 1.32e7 #> 4    2021 5004970                   ASISTENCIA A LA POBLACION POR… 1.17e6 7.12e5 #> # ℹ abbreviated names: ¹​cod_actividad_accion_de_inversion_obra, #> #   ²​desc_actividad_accion_de_inversion_obra #> # ℹ 12 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, producto <chr>, #> #   actividad <chr>, funcion <chr>, division_funcional <chr>, #> #   grupo_funcional <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(         funcion = \"05\",          division_funcional = \"015\",         grupo_funcional = \"0034\",         categoria_presupuestal = \"0031\",         producto = \"3000490\",         actividad = \"5003057\",         meta = \"todos\"     ) %>%     consultar() #> # A tibble: 2 × 18 #>   periodo cod_meta   desc_meta                          pia    pim certificacion #>     <dbl> <chr>      <chr>                            <dbl>  <dbl>         <dbl> #> 1    2021 00001-1343 OPERACIONES DE SEGURIDAD PARA … 4.97e6 5.87e6       5694131 #> 2    2021 Cantidad   736.0Unidad de Medida: OPERACI… 7.36e2 7.36e2           736 #> # ℹ 12 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, producto <chr>, #> #   actividad <chr>, funcion <chr>, division_funcional <chr>, #> #   grupo_funcional <chr>, meta <chr>"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-con-qué-se-financian-los-gastos","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir con qué se financian los gastos","title":"Elección de parámetros","text":"El sistema del MEF permite conocer de dónde proviene el presupuesto que las entidades utilizan. Esto corresponde la Clasificación por Fuentes de Financiamiento de los ingresos públicos. Para ilustrar este punto, veamos aporta el canon al presupuesto nacional. Recordemos que el presupuesto total del 2021. En términos de Presupuesto Institucional Modificado, el Estado contó con 227932 217930 soles en el 2021. Para llegar la cifra del canon empezamos consultando qué Fuentes de financiamiento tuvo el Estado en el 2021. El canon es un recurso que por Ley le corresponde los gobiernos locales y regionales2. Debido ello, forma parte de la Fuente de financiamiento Recursos Determinados (código 5). Consultamos los rubros que la conforman. Se puede ver que el rubro de “Canon y Sobrecanon, regalías, renta de aduanas y participaciones” financió 17116846439 soles del presupuesto de 2021. Para mayor detalle se puede consultar el tipo de recurso. Es así que se puede comprobar que pesar de que se consideran varios tipos de recurso en este Rubro, el único que cuenta con información es el de Canon, que representa el 100% del rubro, lo que nos permite responder la pregunta planteada. El canon representó el 7.5% del presupuesto nacional en el 2021.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      consultar() #> # A tibble: 1 × 10 #>   periodo total          pia          pim certificacion compromiso_anual #>     <dbl> <chr>        <dbl>        <dbl>         <dbl>            <dbl> #> 1    2021 TOTAL 183029770158 227932217391  212472939298     205036051241 #> # ℹ 4 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_con_que_se_financia(fuente_financiamiento = \"todos\") %>%      consultar() #> # A tibble: 5 × 12 #>   periodo cod_fuente_de_financi…¹ desc_fuente_de_financiamiento      pia     pim #>     <dbl> <chr>                   <chr>                            <dbl>   <dbl> #> 1    2021 1                       RECURSOS ORDINARIOS            9.95e10 1.08e11 #> 2    2021 2                       RECURSOS DIRECTAMENTE RECAUDA… 1.25e10 1.63e10 #> 3    2021 3                       RECURSOS POR OPERACIONES OFIC… 4.77e10 6.12e10 #> 4    2021 4                       DONACIONES Y TRANSFERENCIAS    4.76e 8 5.56e 9 #> 5    2021 5                       RECURSOS DETERMINADOS          2.28e10 3.67e10 #> # ℹ abbreviated name: ¹​cod_fuente_de_financiamiento #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, fuente_financiamiento <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_con_que_se_financia(         fuente_financiamiento = \"5\",         rubro = \"todos\"     ) %>%      consultar() #> # A tibble: 4 × 13 #>   periodo cod_rubro desc_rubro                         pia     pim certificacion #>     <dbl> <chr>     <chr>                            <dbl>   <dbl>         <dbl> #> 1    2021 04        CONTRIBUCIONES A FONDOS         7.14e9 7.18e 9    7169823224 #> 2    2021 07        FONDO DE COMPENSACION MUNICIPAL 5.14e9 8.50e 9    7677301288 #> 3    2021 08        IMPUESTOS MUNICIPALES           3.19e9 3.94e 9    3559039015 #> 4    2021 18        CANON Y SOBRECANON, REGALIAS, … 7.38e9 1.71e10   14384505313 #> # ℹ 7 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, fuente_financiamiento <chr>, rubro <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_con_que_se_financia(         fuente_financiamiento = \"5\",         rubro = \"18\",         tipo_de_recurso = \"todos\"     ) %>%      consultar() #> # A tibble: 49 × 14 #>    periodo cod_tipo_de_recurso desc_tipo_de_recurso                    pia   pim #>      <dbl> <chr>               <chr>                                 <dbl> <dbl> #>  1    2021 A                   REGALIAS MINERAS                          0     0 #>  2    2021 B                   RENTAS DE ADUANA                          0     0 #>  3    2021 C                   PARTICIPACIONES - DNTP                    0     0 #>  4    2021 D                   SUB CUENTA - PARTICIPACIONES - DNTP       0     0 #>  5    2021 E                   SUBCUENTA - PARTICIPACIONES - FONIPR…     0     0 #>  6    2021 F                   FFAA Y POLICIA NACIONAL                   0     0 #>  7    2021 G                   FOCAM                                     0     0 #>  8    2021 H                   SUB CUENTA - CANON MINERO                 0     0 #>  9    2021 I                   SUB CUENTA - CANON HIDROENERGETICO        0     0 #> 10    2021 J                   SUB CUENTA - CANON PESQUERO               0     0 #> # ℹ 39 more rows #> # ℹ 9 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, fuente_financiamiento <chr>, rubro <chr>, #> #   tipo_de_recurso <chr> 17116846439/227932217930*100 #> [1] 7.509621"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-cómo-se-estructura-el-gasto","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir cómo se estructura el gasto","title":"Elección de parámetros","text":"En esta sección nos referimos la Clasificación Económica. En otras palabras, se muestra la manera en que los gastos se organizan según su naturaleza económica. Por ejemplo, pagos de salarios, pagos de deudas, pagos de obligaciones sociales, compra de inmuebles, donaciones, etc. Para ilustrar esta clasificación voy reproducir el camino para determinar cuánto se gastó el 2021 en personal CAS. Se empieza por ver las genéricas de gasto. En este punto podríamos cometer el error de continuar la búsqueda en la genérica de Personal y Obligaciones Sociales, pero en realidad los CAS forman parte de la genérica de Bienes y Servicios. Los trabajadores del Estado Peruano tienen muy variados regímenes laborales, y es propósito de este documento discutirlos detalle. Para seguir continuar, consultamos por las subgenéricas de Bienes y Servicios. Nótese que el código “5-23” debe ingresarse como “5-2-3”. Continuamos con la búsqueda escogiendo la subgenérica “Contratación de Servicios”. Nótese que el código de subgenérica debe añadirse al código de la genérica omitiendo el primer número. Lamentablemente, el sistema del MEF ha establecido así su manera de construir las consultas y haría falta mucho esfuerzo por cambiarlo. Por fin encontramos los Contratos Administrativos de Servicios. Para comprobar si hay otro tipo de gastos incluidos, consultamos las Específicas de este gasto. Agregamos el código del detalle de subgenérica al código de subgenérica de la consulta anterior. Vemos que es la única específica disponible, con lo que damos por finalizada nuestra búsqueda. Esto significa que el Estado gastó 14287679937 soles en contratos CAS el 2021. Recordemos el presupuesto nacional de ese mismo año. Ahora podemos calcular cuánto de ese monto representaron los contratos CAS. Esto significa que el 6.27% del presupuesto del 2021 se utilizó en pagos de obligaciones de contratos CAS.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_como_se_estructura_gasto(generica = \"todos\") %>%      consultar() #> # A tibble: 12 × 12 #>    periodo cod_generica desc_generica                                pia     pim #>      <dbl> <chr>        <chr>                                      <dbl>   <dbl> #>  1    2021 5-20         RESERVA DE CONTINGENCIA                  5.78e 9 4.69e 8 #>  2    2021 5-21         PERSONAL Y OBLIGACIONES SOCIALES         5.16e10 5.21e10 #>  3    2021 5-22         PENSIONES Y OTRAS PRESTACIONES SOCIALES  1.41e10 1.45e10 #>  4    2021 5-23         BIENES Y SERVICIOS                       3.73e10 5.17e10 #>  5    2021 5-24         DONACIONES Y TRANSFERENCIAS              4.06e 9 7.32e 9 #>  6    2021 5-25         OTROS GASTOS                             6.92e 9 2.20e10 #>  7    2021 6-20         RESERVA DE CONTINGENCIA                  1.95e 9 1.53e 8 #>  8    2021 6-24         DONACIONES Y TRANSFERENCIAS              4.62e 9 4.01e 9 #>  9    2021 6-25         OTROS GASTOS                             1.12e 8 2.12e 8 #> 10    2021 6-26         ADQUISICION DE ACTIVOS NO FINANCIEROS    4.02e10 5.79e10 #> 11    2021 6-27         ADQUISICION DE ACTIVOS FINANCIEROS       4.69e 8 1.09e 9 #> 12    2021 7-28         SERVICIO DE LA DEUDA PUBLICA             1.60e10 1.64e10 #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, generica <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_como_se_estructura_gasto(         generica = \"5-2-3\",          subgenerica = \"todos\"     ) %>%      consultar() #> # A tibble: 2 × 13 #>   periodo cod_sub_generica desc_sub_generica                 pia         pim #>     <dbl> <chr>            <chr>                           <dbl>       <dbl> #> 1    2021 1                COMPRA DE BIENES           6193282945  8904895030 #> 2    2021 2                CONTRATACION DE SERVICIOS 31096615468 42807531841 #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, generica <chr>, subgenerica <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_como_se_estructura_gasto(         generica = \"5-2-3\",          subgenerica = \"2-3-2\",         detalle_subgenerica = \"todos\"     ) %>%      consultar() #> # A tibble: 9 × 14 #>   periodo cod_detalle_sub_gener…¹ desc_detalle_sub_generica          pia     pim #>     <dbl> <chr>                   <chr>                            <dbl>   <dbl> #> 1    2021 1                       VIAJES                         9.90e 8 9.77e 8 #> 2    2021 2                       SERVICIOS BASICOS, COMUNICACI… 2.31e 9 2.32e 9 #> 3    2021 3                       SERVICIOS DE LIMPIEZA, SEGURI… 1.58e 9 1.61e 9 #> 4    2021 4                       SERVICIO DE MANTENIMIENTO, AC… 4.05e 9 6.27e 9 #> 5    2021 5                       ALQUILERES DE MUEBLES E INMUE… 9.03e 8 1.57e 9 #> 6    2021 6                       SERVICIOS ADMINISTRATIVOS, FI… 1.12e 9 9.92e 8 #> 7    2021 7                       SERVICIOS PROFESIONALES Y TEC… 8.01e 9 1.05e10 #> 8    2021 8                       CONTRATO ADMINISTRATIVO DE SE… 1.09e10 1.43e10 #> 9    2021 9                       LOCACIÓN DE SERVICIOS RELACIO… 1.24e 9 4.29e 9 #> # ℹ abbreviated name: ¹​cod_detalle_sub_generica #> # ℹ 9 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, generica <chr>, subgenerica <chr>, #> #   detalle_subgenerica <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_como_se_estructura_gasto(         generica = \"5-2-3\",          subgenerica = \"2-3-2\",         detalle_subgenerica = \"2-3-2-8\",         especifica = \"todos\"     ) %>%      consultar() #> # A tibble: 1 × 15 #>   periodo cod_especifica desc_especifica                             pia     pim #>     <dbl> <chr>          <chr>                                     <dbl>   <dbl> #> 1    2021 1              CONTRATO ADMINISTRATIVO DE SERVICIOS    1.09e10 1.43e10 #> # ℹ 10 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, generica <chr>, subgenerica <chr>, #> #   detalle_subgenerica <chr>, especifica <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      consultar() #> # A tibble: 1 × 10 #>   periodo total          pia          pim certificacion compromiso_anual #>     <dbl> <chr>        <dbl>        <dbl>         <dbl>            <dbl> #> 1    2021 TOTAL 183029770158 227932217391  212472939298     205036051241 #> # ℹ 4 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl> 14287679937/227932217930 * 100 #> [1] 6.26839"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-dónde-se-gasta","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir dónde se gasta","title":"Elección de parámetros","text":"La función elegir_donde_se_gasta() permite obtener una división del gasto por departamento. Con esto, podemos ver rápidamente cuánto presupuesto tuvo cada departamento el 2021. Nótese la diferencia entre el argumento departamento_meta de esta función y el argumento departamento de la función elegir_quien_gasta().","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_donde_se_gasta(departamento_meta = \"todos\") %>%      consultar() #> # A tibble: 26 × 12 #>    periodo cod_departamento_meta desc_departamento_meta              pia     pim #>      <dbl> <chr>                 <chr>                             <dbl>   <dbl> #>  1    2021 01                    AMAZONAS                         2.31e9 3.09e 9 #>  2    2021 02                    ANCASH                           5.06e9 9.41e 9 #>  3    2021 03                    APURIMAC                         2.62e9 3.74e 9 #>  4    2021 04                    AREQUIPA                         5.16e9 8.45e 9 #>  5    2021 05                    AYACUCHO                         3.17e9 5.13e 9 #>  6    2021 06                    CAJAMARCA                        5.44e9 8.30e 9 #>  7    2021 07                    PROVINCIA CONSTITUCIONAL DEL CA… 4.40e9 5.65e 9 #>  8    2021 08                    CUSCO                            7.52e9 1.05e10 #>  9    2021 09                    HUANCAVELICA                     2.18e9 3.50e 9 #> 10    2021 10                    HUANUCO                          3.10e9 4.53e 9 #> # ℹ 16 more rows #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, departamento_meta <chr>"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"elegir-cuándo-se-hizo-el-gasto","dir":"Articles","previous_headings":"Funciones de elección","what":"Elegir cuándo se hizo el gasto","title":"Elección de parámetros","text":"Con la función elegir_cuando_se_hizo_gasto() se puede dividir el gasto según el trimestres o meses del periodo anual. En caso se utilice esta función, debe tenerse en cuenta que la consulta omitirá la información de PIA, PIM y porcentaje de avance. Es posible escoger un trimestre específico para acotar la consulta por meses. Si se especifica un trimestre, se obtiene el resultado de todos los meses.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_cuando_se_hizo_gasto(trimestre = \"todos\") %>%      consultar() #> # A tibble: 4 × 12 #>   periodo cod_trimestre desc_trimestre   pia   pim certificacion #>     <dbl> <chr>         <chr>          <dbl> <dbl>         <dbl> #> 1    2021 1er Trimestre NA                NA    NA  134105940812 #> 2    2021 2do Trimestre NA                NA    NA   28268058573 #> 3    2021 3er Trimestre NA                NA    NA   22061738872 #> 4    2021 4to Trimestre NA                NA    NA   28037201040 #> # ℹ 6 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, trimestre <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_cuando_se_hizo_gasto(trimestre = \"1\", mes = \"todos\") %>%      consultar() #> # A tibble: 3 × 13 #>   periodo cod_mes desc_mes   pia   pim certificacion compromiso_anual #>     <dbl> <chr>   <chr>    <dbl> <dbl>         <dbl>            <dbl> #> 1    2021 1       'Enero      NA    NA   94259857172      75181051457 #> 2    2021 2       'Febrero    NA    NA   20538071791      17770271782 #> 3    2021 3       'Marzo      NA    NA   19308011849      16248077341 #> # ℹ 6 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>, trimestre <chr>, mes <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_cuando_se_hizo_gasto(mes = \"todos\") %>%      consultar() #> # A tibble: 12 × 12 #>    periodo cod_mes desc_mes     pia   pim certificacion compromiso_anual #>      <dbl> <chr>   <chr>      <dbl> <dbl>         <dbl>            <dbl> #>  1    2021 1       'Enero        NA    NA   94259857172      75181051457 #>  2    2021 2       'Febrero      NA    NA   20538071791      17770271782 #>  3    2021 3       'Marzo        NA    NA   19308011849      16248077341 #>  4    2021 4       'Abril        NA    NA   10548051565      11051020045 #>  5    2021 5       'Mayo         NA    NA    9149178543       9776484140 #>  6    2021 6       'Junio        NA    NA    8570828466       9419486729 #>  7    2021 7       'Julio        NA    NA    6330219152       8365693030 #>  8    2021 8       'Agosto       NA    NA    6098701544       7735265096 #>  9    2021 9       'Setiembre    NA    NA    9632818176      11532734558 #> 10    2021 10      'Octubre      NA    NA    7386871360       8957119793 #> 11    2021 11      'Noviembre    NA    NA    6822105405       8952671876 #> 12    2021 12      'Diciembre    NA    NA   13828224276      20046175394 #> # ℹ 5 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>, mes <chr>"},{"path":"https://perutranspaeconomica.samuelenrique.com/articles/elegir-parametros.html","id":"combinar-elección-de-parámetros","dir":"Articles","previous_headings":"","what":"Combinar elección de parámetros","title":"Elección de parámetros","text":"En la sección anterior se explicó el uso de cada función por separado, pero para hacer lo mismo que se puede desde la interfaz del MEF es necesario encadenar varias funciones. Vamos ilustrarlo con un par de ejemplos. Viendo la Clasificación Programática del gasto, habíamos visto que el Programa Presupuestal 0031 busca combatir el tráfico ilícito de drogas. Para saber cuál fue la ejecución presupuestal de este programa por departamento debemos encadenar un llamado elegir_en_que_se_gasta() y elegir_donde_se_gasta(). Para poder reusar los datos obtenidos, se le asigna el nombre pp0031_departamentos al resultado de la consulta. Hasta el momento, la Consulta Base mostrada en los diagramas correspondió la elección del periodo anual, al que se le podía encadenar una de las funciones detalladas. Sin embargo, la Consulta Base en realidad representa cualquier nivel de encadenamiento de funciones. El último código utilizado puede representarse de la siguiente manera. Teniendo pp0031_departamentos, podemos aplicarle herramientas estándar de análisis de datos. Por ejemplo, para ordenar los departamentos de manera descendente según su PIM usando dplyr usaríamos este código. Vemos que Huánuco es, después de Lima, el departamento en el que se contó con mayor presupuesto (17016801 soles). Lo siguiente que podemos consultar es qué porción correspondió presupuestos de viaje. Para ello, especificamos el departamento_meta con el código de Huánuco y buscamos el detalle de subgenérica “5-23.2” correspondiente Contratación de Servicios. El diagrama que ilustra esta consulta es el siguiente: Se obtuvo que el presupuesto por viajes fue de 8412586 soles. Finalmente, se obtiene que en el 2021, el prespuesto por viajes representó el 49.4% del presupuesto del Programa Presupuestal en Huánuco.","code":"pp0031_departamentos <- iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(categoria_presupuestal = \"0031\") %>%      elegir_donde_se_gasta(departamento_meta = \"todos\") %>%      consultar()  pp0031_departamentos #> # A tibble: 9 × 13 #>   periodo cod_departamento_meta desc_departamento_meta                pia    pim #>     <dbl> <chr>                 <chr>                               <dbl>  <dbl> #> 1    2021 05                    AYACUCHO                           2.09e6 1.97e6 #> 2    2021 07                    PROVINCIA CONSTITUCIONAL DEL CALL… 8.88e5 1.20e6 #> 3    2021 10                    HUANUCO                            1.56e7 1.70e7 #> 4    2021 12                    JUNIN                              1.76e6 2.05e6 #> 5    2021 15                    LIMA                               2.25e8 2.36e8 #> 6    2021 16                    LORETO                             1.10e6 9.03e5 #> 7    2021 20                    PIURA                              7.23e5 6.64e5 #> 8    2021 21                    PUNO                               8.87e5 8.50e5 #> 9    2021 25                    UCAYALI                            1.49e7 1.49e7 #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, departamento_meta <chr> pp0031_departamentos %>%      dplyr::arrange(dplyr::desc(pim)) #> # A tibble: 9 × 13 #>   periodo cod_departamento_meta desc_departamento_meta                pia    pim #>     <dbl> <chr>                 <chr>                               <dbl>  <dbl> #> 1    2021 15                    LIMA                               2.25e8 2.36e8 #> 2    2021 10                    HUANUCO                            1.56e7 1.70e7 #> 3    2021 25                    UCAYALI                            1.49e7 1.49e7 #> 4    2021 12                    JUNIN                              1.76e6 2.05e6 #> 5    2021 05                    AYACUCHO                           2.09e6 1.97e6 #> 6    2021 07                    PROVINCIA CONSTITUCIONAL DEL CALL… 8.88e5 1.20e6 #> 7    2021 16                    LORETO                             1.10e6 9.03e5 #> 8    2021 21                    PUNO                               8.87e5 8.50e5 #> 9    2021 20                    PIURA                              7.23e5 6.64e5 #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, departamento_meta <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2021) %>%      elegir_en_que_se_gasta(categoria_presupuestal = \"0031\") %>%      elegir_donde_se_gasta(departamento_meta = \"10\") %>%     elegir_como_se_estructura_gasto(         generica = \"5-2-3\",          subgenerica = \"2-3-2\",         detalle_subgenerica = \"todos\"     ) %>%      consultar() #> # A tibble: 6 × 16 #>   periodo cod_detalle_sub_generica desc_detalle_sub_generica          pia    pim #>     <dbl> <chr>                    <chr>                            <dbl>  <dbl> #> 1    2021 1                        VIAJES                          6.60e6 8.41e6 #> 2    2021 4                        SERVICIO DE MANTENIMIENTO, ACO… 5   e4 0      #> 3    2021 5                        ALQUILERES DE MUEBLES E INMUEB… 4   e4 0      #> 4    2021 6                        SERVICIOS ADMINISTRATIVOS, FIN… 3.82e6 3.82e6 #> 5    2021 7                        SERVICIOS PROFESIONALES Y TECN… 2.20e5 2.03e5 #> 6    2021 9                        LOCACIÓN DE SERVICIOS RELACION… 0      1.05e4 #> # ℹ 11 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, generica <chr>, #> #   subgenerica <chr>, detalle_subgenerica <chr>, departamento_meta <chr> 8412586/17016801 * 100 #> [1] 49.43694"},{"path":"https://perutranspaeconomica.samuelenrique.com/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Samuel Calderon. Author, maintainer, copyright holder.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Calderon S (2023). perutranspaeconomica: Consulta el portal de 'Transparencia Económica' de Perú. R package version 0.3.1.9000,  https://github.com/calderonsamuel/perutranspaeconomica, https://perutranspaeconomica.samuelenrique.com.","code":"@Manual{,   title = {perutranspaeconomica: Consulta el portal de 'Transparencia Económica' de Perú},   author = {Samuel Calderon},   year = {2023},   note = {R package version 0.3.1.9000,  https://github.com/calderonsamuel/perutranspaeconomica},   url = {https://perutranspaeconomica.samuelenrique.com}, }"},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"perutranspaeconomica","dir":"","previous_headings":"","what":"Consulta el portal de 'Transparencia Económica' de Perú","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"El objetivo de perutranspaeconomica es contar con una manera de obtener datos del Portal de Transparencia Económica Perú con una interfaz de programación consistente y escalable.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"Please note perutranspaeconomica project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"instalación","dir":"","previous_headings":"","what":"Instalación","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"Existen varias maneras de descargar el paquete. En primer lugar, puedes descargar la versión estable desde CRAN: Otra opción es instalar la versión en desarrollo desde mi R-universe: La versión en desarrollo también puede descargarse desde GitHub con:","code":"install.packages('perutranspaeconomica') # Habilita el repositorio calderonsamuel options(repos = c(   calderonsamuel = 'https://calderonsamuel.r-universe.dev',   CRAN = 'https://cloud.r-project.org'))  # Descargar e instalar perutranspaeconomica en R install.packages('perutranspaeconomica') # install.packages(\"remotes\") remotes::install_github(\"calderonsamuel/perutranspaeconomica\")"},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"ejemplo","dir":"","previous_headings":"","what":"Ejemplo","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"Con este paquete puedes realizar consultas del Portal de Transparencia Económica del MEF-Perú, específicamente de los módulos de Consulta de gasto presupuestal y de Consulta de Ingreso Presupuestal. El paquete propone un flujo de trabajo de 1) iniciar consulta, 2) elegir parámetros, y 3) ejecutar consulta. Para ello, se ha creado la clase <transpaeco> para consolidar una infraestructura interna consistente. El usuario común va necesitar interactuar con esa infraestructura directamente ya que se han agregado funciones de soporte que habilitan una interfaz de programación más amigable. Empezamos por cargar el paquete:","code":"library(perutranspaeconomica)"},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"iniciar-consulta","dir":"","previous_headings":"Ejemplo","what":"Iniciar consulta","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"Para iniciar una consulta tan solo hace falta usar la función iniciar_transparencia_economica(). Esto crea un objeto vacío y muestra los parámetros de consulta agregados. Al inicio tenemos parámetros ni data.","code":"iniciar_transparencia_economica() #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta"},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"elegir-parámetros-de-consulta","dir":"","previous_headings":"Ejemplo","what":"Elegir parámetros de consulta","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"La elección de parámetros de consulta se hace con las funciones que empiezan con elegir_*(). Para consultas en el módulo de gasto presupuestal, se pueden utilizar las siguientes: elegir_periodo_anual() elegir_quien_gasta() elegir_en_que_se_gasta() elegir_con_que_se_financia() elegir_como_se_estructura_gasto() elegir_cuando_se_hizo_gasto() elegir_donde_se_gasta() Para consultas en el módulo de ingreso presupuestal, se pueden utilizar las siguientes: elegir_periodo_anual() elegir_quien_recauda() elegir_fuentes_de_recaudacion() elegir_como_se_estructura_recaudacion() elegir_cuando_se_hizo_recaudacion() En ambos módulos, la mínima requerida es elegir_periodo_anual(). Una vez que se le agrega parámetros la consulta, la interfaz lo refleja. Cada argumento de las funciones elegir_*() puede aceptar vectores con más de un elemento para una consulta más potente. Con excepción de elegir_periodo_anual(), es necesario que las funciones elegir_*() tengan, en su conjunto, al menos un argumento definido como \"todos\". Más adelante se verá que en caso contrario la consulta prosperará. Todos los métodos elegir_*() cuentan con documentación referente cómo deben ser usados. Para mayor detalle consultar el método específico. Por ejemplo, help(\"elegir_quien_gasta\") o ?elegir_quien_gasta. La elección de parámetros prosperará si se intenta definir más de un parámetro como \"todos\". Todas las funciones de elegir_*() tratan de validar que los inputs provistos tengan una forma adecuada. Por ejemplo, generica debe seguir la forma \"0-0-0\", donde cada 0 representa un dígito. Al proveer un input mal formado, la validación provocará un error e indicará una expresión regular o listado de valores apropiados para el parámetro.","code":"iniciar_transparencia_economica() %>%      elegir_periodo_anual(periodo = 2023) #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2023 #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta iniciar_transparencia_economica() %>%      elegir_periodo_anual(periodo = 2020:2023) #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2020, 2021, 2022 y 2023 #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta iniciar_transparencia_economica() %>%      elegir_periodo_anual(periodo = 2023) %>%      elegir_quien_gasta(nivel = \"E\") %>%      elegir_donde_se_gasta(departamento_meta = \"todos\") # <- aquí se usó \"todos\" #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2023 #> • Nivel de gobierno: E #> • Departamento (meta): *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"todos\") %>%      elegir_donde_se_gasta(departamento_meta = \"todos\") #> Error: <transpaeco> object is invalid: #> - Debe haber solo una propiedad con valor \"todos\" iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_como_se_estructura_gasto(generica = \"5-20\") #> Error: <transpaeco> object is invalid: #> - En modulo gasto, `generica` debe hacer match con expresion regular '^[5-7]-2-[0-9]$'"},{"path":"https://perutranspaeconomica.samuelenrique.com/index.html","id":"consultar","dir":"","previous_headings":"Ejemplo","what":"Consultar","title":"Consulta el portal de 'Transparencia Económica' de Perú","text":"Una vez definidos los parámetros de la consulta, solo hace falta ejecutarla. Para ello, usamos la función consultar(). Esto nos devolverá la data requerida. La consulta prosperará si alguna función de elegir_*() (con excepción de elegir_periodo_anual()) cuenta con ningún parámetro como definido como \"todos\". Se recomienda asignarle nombre una consulta ejecutada para evitar posibles tediosas re-descargas, especialmente cuando la consulta usa parámetros con vectores más grandes. Una vez obtenida la consulta requerida, es posible tratar los datos obtenidos como cualquier otro dataframe en R. Por ejemplo, para calcular el porcentaje de presupuesto destinado personal y obligaciones sociales por periodo anual. También es posible usar los datos obtenidos directamente para un gráfico con ggplot2.","code":"# ¿Cuál fue la ejecución presupuestal por departamento en el gobierno nacional? # Para el año 2022 iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"E\") %>%      elegir_donde_se_gasta(departamento_meta = \"todos\") %>%      consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 26 × 13 #>    periodo cod_departamento_meta desc_departamento_meta               pia    pim #>      <dbl> <chr>                 <chr>                              <dbl>  <dbl> #>  1    2022 01                    AMAZONAS                          1.03e9 1.04e9 #>  2    2022 02                    ANCASH                            3.37e9 3.09e9 #>  3    2022 03                    APURIMAC                          9.13e8 1.06e9 #>  4    2022 04                    AREQUIPA                          2.19e9 2.18e9 #>  5    2022 05                    AYACUCHO                          1.14e9 1.31e9 #>  6    2022 06                    CAJAMARCA                         2.03e9 2.24e9 #>  7    2022 07                    PROVINCIA CONSTITUCIONAL DEL CAL… 2.72e9 3.14e9 #>  8    2022 08                    CUSCO                             3.20e9 3.46e9 #>  9    2022 09                    HUANCAVELICA                      1.06e9 8.98e8 #> 10    2022 10                    HUANUCO                           1.64e9 1.51e9 #> # ℹ 16 more rows #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, departamento_meta <chr> iniciar_transparencia_economica() %>%      elegir_periodo_anual(2022) %>%      elegir_quien_gasta(nivel = \"E\") %>%      elegir_donde_se_gasta(departamento_meta = \"01\") %>%     consultar() #> Error in `check_pre_consulta()`: #> ! Se debe elegir un parametro de desagregacion con \"todos\" # ¿Cómo se ejecutó el gasto por genérica para el PP 0031 entre el 2015 y 2021? mi_consulta <- iniciar_transparencia_economica() %>%      elegir_periodo_anual(2015:2021) %>%      elegir_en_que_se_gasta(categoria_presupuestal = \"0031\") %>%      elegir_como_se_estructura_gasto(generica = \"todos\") %>%      consultar() #> ℹ Iniciando consulta #> ⠙ 1/7 ETA:  6s | Ejecutando consulta  ⠹ 2/7 ETA:  6s | Ejecutando consulta  ⠸ 3/7 ETA:  5s | Ejecutando consulta  ⠼ 4/7 ETA:  3s | Ejecutando consulta  ⠴ 5/7 ETA:  2s | Ejecutando consulta  ⠦ 6/7 ETA:  1s | Ejecutando consulta                                         ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas  mi_consulta #> # A tibble: 28 × 13 #>    periodo cod_generica desc_generica                               pia      pim #>      <int> <chr>        <chr>                                     <dbl>    <dbl> #>  1    2015 5-21         PERSONAL Y OBLIGACIONES SOCIALES      161861223   1.62e8 #>  2    2015 5-23         BIENES Y SERVICIOS                    104378682   8.25e7 #>  3    2015 5-25         OTROS GASTOS                            7000000   7.93e6 #>  4    2015 6-26         ADQUISICION DE ACTIVOS NO FINANCIEROS  26120000   2.51e7 #>  5    2016 5-21         PERSONAL Y OBLIGACIONES SOCIALES      208112423   2.08e8 #>  6    2016 5-23         BIENES Y SERVICIOS                     79975551   8.47e7 #>  7    2016 5-25         OTROS GASTOS                            7000000   7.45e6 #>  8    2016 6-26         ADQUISICION DE ACTIVOS NO FINANCIEROS         0   2.15e6 #>  9    2017 5-21         PERSONAL Y OBLIGACIONES SOCIALES      209308943   2.09e8 #> 10    2017 5-23         BIENES Y SERVICIOS                     84184599   9.08e7 #> # ℹ 18 more rows #> # ℹ 8 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, generica <chr> library(dplyr)  mi_consulta %>%      group_by(periodo) %>%      mutate(porc_presupuesto = (pim/sum(pim)*100) %>% round(1)) %>%      ungroup() %>%      filter(desc_generica == \"PERSONAL Y OBLIGACIONES SOCIALES\") #> # A tibble: 7 × 14 #>   periodo cod_generica desc_generica                          pia       pim #>     <int> <chr>        <chr>                                <dbl>     <dbl> #> 1    2015 5-21         PERSONAL Y OBLIGACIONES SOCIALES 161861223 161903973 #> 2    2016 5-21         PERSONAL Y OBLIGACIONES SOCIALES 208112423 208113793 #> 3    2017 5-21         PERSONAL Y OBLIGACIONES SOCIALES 209308943 209308943 #> 4    2018 5-21         PERSONAL Y OBLIGACIONES SOCIALES 180890881 180890881 #> 5    2019 5-21         PERSONAL Y OBLIGACIONES SOCIALES 200538695 195441649 #> 6    2020 5-21         PERSONAL Y OBLIGACIONES SOCIALES 183923246 183923246 #> 7    2021 5-21         PERSONAL Y OBLIGACIONES SOCIALES 187837669 187842487 #> # ℹ 9 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>, generica <chr>, #> #   porc_presupuesto <dbl> library(ggplot2)  mi_consulta %>%      ggplot(aes(periodo, pim, color = cod_generica)) +     geom_line() +     scale_y_continuous(labels = scales::label_dollar(prefix = \"S/.\"))"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/consultar.html","id":null,"dir":"Reference","previous_headings":"","what":"Ejecutar consulta de seguimiento a la ejecución presupuestal — consultar","title":"Ejecutar consulta de seguimiento a la ejecución presupuestal — consultar","text":"Ejecutar consulta de seguimiento la ejecución presupuestal","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/consultar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ejecutar consulta de seguimiento a la ejecución presupuestal — consultar","text":"","code":"consultar(x)"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/consultar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ejecutar consulta de seguimiento a la ejecución presupuestal — consultar","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/consultar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ejecutar consulta de seguimiento a la ejecución presupuestal — consultar","text":"Un data.frame que contiene el resultado de la consulta solicitada","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/consultar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ejecutar consulta de seguimiento a la ejecución presupuestal — consultar","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 1 × 10 #>   periodo total          pia          pim certificacion compromiso_anual #>     <dbl> <chr>        <dbl>        <dbl>         <dbl>            <dbl> #> 1    2022 TOTAL 197002269014 237822055719  225523178399     215881080684 #> # ℹ 4 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_destino.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir destino de uso del presupuesto. — elegir_destino","title":"Elegir destino de uso del presupuesto. — elegir_destino","text":"Estas funciones permiten desglosar la busqueda de acuerdo al destino de uso del presupuesto. Debido que solo se pueden usar en el módulo de gasto, ambas tienen el mismo comportamiento.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_destino.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir destino de uso del presupuesto. — elegir_destino","text":"","code":"elegir_destino(   x,   categoria_presupuestal = NULL,   producto = NULL,   actividad = NULL,   funcion = NULL,   division_funcional = NULL,   grupo_funcional = NULL,   meta = NULL )  elegir_en_que_se_gasta(   x,   categoria_presupuestal = NULL,   producto = NULL,   actividad = NULL,   funcion = NULL,   division_funcional = NULL,   grupo_funcional = NULL,   meta = NULL )"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_destino.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir destino de uso del presupuesto. — elegir_destino","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada categoria_presupuestal chr. Código de programa presupuestal de forma \"0000\" (4 digitos). Para Acciones Centrales usar \"9001\" y para APnoP usar \"9002\". producto chr. Código de producto o proyecto de inversión de forma \"0000000\" (7 digitos). actividad chr. Código de actividad, acción de inversión u obra, de forma \"0000000\" (7 digitos). funcion chr. Código de función de forma \"00\" (2 digitos). division_funcional chr. Código de división funcional de forma \"000\" (3 digitos). grupo_funcional chr. Código de grupo funcional de forma \"0000\" (4 digitos). meta chr. Código de meta. tiene forma estandarizada y es obtenerla partir de la información provista. Es el parametro de consulta mas problematico.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_destino.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir destino de uso del presupuesto. — elegir_destino","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_destino.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir destino de uso del presupuesto. — elegir_destino","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_en_que_se_gasta(categoria_presupuestal = \"todos\") #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Categoria Presupuestal: *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_en_que_se_gasta(categoria_presupuestal = \"todos\") %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 92 × 12 #>    periodo cod_categoria_presupuestal desc_categoria_presupuestal     pia    pim #>      <dbl> <chr>                      <chr>                         <dbl>  <dbl> #>  1    2022 0001                       PROGRAMA ARTICULADO NUTRICI… 8.88e8 1.29e9 #>  2    2022 0002                       SALUD MATERNO NEONATAL       2.12e9 2.52e9 #>  3    2022 0016                       TBC-VIH/SIDA                 6.05e8 7.02e8 #>  4    2022 0017                       ENFERMEDADES METAXENICAS Y … 3.14e8 3.53e8 #>  5    2022 0018                       ENFERMEDADES NO TRANSMISIBL… 5.69e8 6.96e8 #>  6    2022 0024                       PREVENCION Y CONTROL DEL CA… 4.61e8 8.12e8 #>  7    2022 0030                       REDUCCION DE DELITOS Y FALT… 4.48e9 5.20e9 #>  8    2022 0031                       REDUCCION DEL TRAFICO ILICI… 2.68e8 2.74e8 #>  9    2022 0032                       LUCHA CONTRA EL TERRORISMO   2.30e8 2.40e8 #> 10    2022 0036                       GESTION INTEGRAL DE RESIDUO… 1.61e9 2.69e9 #> # ℹ 82 more rows #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, categoria_presupuestal <chr>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_estructura.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","title":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","text":"Estas funciones permiten desglosar la busqueda de acuerdo valores de estructura presupuestal. elegir_como_se_estructura_gasto() y elegir_como_se_estructura_recaudacion() sirven para los módulos de gasto e ingresos, respectivamente. elegir_estructura() es una versión agnóstica que sirve para ámbos módulos. Ver Detalles para entender la conformacion del formato de consulta de cada parametro.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_estructura.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","text":"","code":"elegir_estructura(   x,   generica = NULL,   subgenerica = NULL,   detalle_subgenerica = NULL,   especifica = NULL,   detalle_especifica = NULL )  elegir_como_se_estructura_gasto(   x,   generica = NULL,   subgenerica = NULL,   detalle_subgenerica = NULL,   especifica = NULL,   detalle_especifica = NULL )  elegir_como_se_estructura_recaudacion(   x,   generica = NULL,   subgenerica = NULL,   detalle_subgenerica = NULL,   especifica = NULL,   detalle_especifica = NULL )"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_estructura.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada generica chr. Código de genérica. En módulo de gasto debe tener la forma \"0-0-0\" y en módulo de ingreso debe tener la forma \"0-0\". subgenerica chr. Código de sub-genérica de forma \"0-0-0\" detalle_subgenerica chr. Código de detalle de sub-genérica de forma \"0-0-0-0\" especifica chr. Código de específica de forma \"0-0-0-0-0\" detalle_especifica chr. Código de detalle de específica de forma \"0-0-0-0-0-0\"","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_estructura.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_estructura.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","text":"Estos endpoints se construyen secuencialmente en base los valores de genérica. Para escribir el código de genérica se debe alterar un poco la representación típica. Por ejemplo, la genérica de gasto \"7-28\" debe pasarse generica como \"7-2-8\". partir del nivel subgenerica debe omitirse solo el primer dígito de la genérica. Por ejemplo, la sub-genérica \"7-28.2\" debe pasarse como \"2-8-2\" y para el detalle de la sub-genérica \"7-28.2.1\" debe pasarse \"2-8-2-1\". La específica y detalle de específica siguen este patrón. Estas funciones aplicarán una validación de  la forma para cada argumento mediante expresiones regulares. Sumado ello, se aplica una validación para evitar valores anómalos.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_estructura.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir la estructura con la que se usa el presupuesto — elegir_estructura","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_como_se_estructura_gasto(generica = \"todos\")  #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Generica: *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_como_se_estructura_gasto(generica = \"todos\") %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 12 × 12 #>    periodo cod_generica desc_generica                  pia     pim certificacion #>      <dbl> <chr>        <chr>                        <dbl>   <dbl>         <dbl> #>  1    2022 5-20         RESERVA DE CONTINGENCIA    6.17e 9 1.20e 9             0 #>  2    2022 5-21         PERSONAL Y OBLIGACIONES S… 5.18e10 5.42e10   53418751212 #>  3    2022 5-22         PENSIONES Y OTRAS PRESTAC… 1.36e10 1.40e10   13934008724 #>  4    2022 5-23         BIENES Y SERVICIOS         4.05e10 5.33e10   49986139568 #>  5    2022 5-24         DONACIONES Y TRANSFERENCI… 7.16e 9 6.40e 9    6215948303 #>  6    2022 5-25         OTROS GASTOS               6.85e 9 1.50e10   14953034768 #>  7    2022 6-20         RESERVA DE CONTINGENCIA    2   e 8 0                   0 #>  8    2022 6-24         DONACIONES Y TRANSFERENCI… 4.21e 9 3.96e 9    3892715114 #>  9    2022 6-25         OTROS GASTOS               5.64e 7 1.29e 8     128215011 #> 10    2022 6-26         ADQUISICION DE ACTIVOS NO… 4.31e10 6.61e10   60534497990 #> 11    2022 6-27         ADQUISICION DE ACTIVOS FI… 3.65e 8 4.17e 8     405825864 #> 12    2022 7-28         SERVICIO DE LA DEUDA PUBL… 2.30e10 2.31e10   22054041846 #> # ℹ 6 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, generica <chr>  # notese la forma de `generica` iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_como_se_estructura_gasto(         generica = \"5-2-0\",          subgenerica = \"todos\"     )  #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Generica: 5-2-0 #> • Sub-generica: *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  # cuando no se respeta la forma, el mensaje de error  # muestra la expresion regular esperada tryCatch({     iniciar_transparencia_economica(modulo = \"gasto\") %>%         elegir_periodo_anual(2022) %>%         elegir_como_se_estructura_gasto(             generica = \"5-20\",              subgenerica = \"todos\"         )  }, error = function(e) print(e)) #> <simpleError: <transpaeco> object is invalid: #> - En modulo gasto, `generica` debe hacer match con expresion regular '^[5-7]-2-[0-9]$'>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_institucion.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","title":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","text":"Estas funciones permiten desglosar la busqueda haciendo uso del clasificador institucional. elegir_quien_gasta() y elegir_quien_recauda() sirven los módulos de gasto e ingresos, respectivamente. elegir_institucion() es una versión agnóstica que sirve para ámbos módulos.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_institucion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","text":"","code":"elegir_institucion(   x,   nivel = NULL,   sector = NULL,   pliego = NULL,   unidad_ejecutora = NULL,   goblocal_o_manc = NULL,   mancomunidad = NULL,   departamento = NULL,   provincia = NULL,   municipalidad = NULL )  elegir_quien_gasta(   x,   nivel = NULL,   sector = NULL,   pliego = NULL,   unidad_ejecutora = NULL,   goblocal_o_manc = NULL,   mancomunidad = NULL,   departamento = NULL,   provincia = NULL,   municipalidad = NULL )  elegir_quien_recauda(   x,   nivel = NULL,   sector = NULL,   pliego = NULL,   unidad_ejecutora = NULL,   goblocal_o_manc = NULL,   mancomunidad = NULL,   departamento = NULL,   provincia = NULL,   municipalidad = NULL )"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_institucion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada nivel chr. Nivel de gobierno. Puede ser \"E\" (gobierno nacional), \"M\" (gobiernos locales) o \"R\" (gobiernos regionales). Si es \"E\" o \"R\", le corresponde sector. Si es \"M\", le corresponde goblocal_o_manc. sector chr. Codigo de sector, de forma \"00\" (2 digitos). pliego chr. Código de pliego, de forma \"000\" (3 digitos). unidad_ejecutora chr. Código de Unidad Ejecutora. tiene forma estandar, puede tener entre uno (1) y seis (6) digitos. goblocal_o_manc chr. Escoger entre \"M\" (gobierno local) o \"N\" (mancomunidad). Si es \"M\", puede desglosarse por departamento, provincia y municipalidad. Si es \"N\", le corresponde mancomunidad. mancomunidad chr. Código de mancomunidad, de forma \"000000\" (6 digitos). departamento chr. Código de departamento, de forma \"00\" (2 digitos). El valor \"07\" corresponde Callao. provincia chr. Código de provincia, de forma \"00\" (2 digitos). El valor \"01\" corresponde capital de departamento. municipalidad chr. Código de municipalidad, de forma \"000000\" (6 digitos). es lo mismo que el ubigeo. Los dos primeros digitos deben ser \"30\".","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_institucion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_institucion.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","text":"Estas funciones aplicarán una validación de  la forma para cada argumento mediante expresiones regulares. Sumado ello, se aplica una validación para evitar valores anómalos.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_institucion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir la institucion que utiliza el presupuesto — elegir_institucion","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_quien_gasta(nivel = \"todos\") #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Nivel de gobierno: *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  # informacion de todas las UEs del Ministerio de Educacion iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_quien_gasta(         nivel = \"E\",          sector = \"10\",         pliego = \"010\",         unidad_ejecutora = \"todos\"     ) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 22 × 15 #>    periodo cod_unidad_ejecutora desc_unidad_ejecutora                 pia    pim #>      <dbl> <chr>                <chr>                               <dbl>  <dbl> #>  1    2022 001-56               USE 01 SAN JUAN DE MIRAFLORES      5.17e8 5.65e8 #>  2    2022 002-57               USE 02 SAN MARTIN DE PORRAS        4.44e8 4.82e8 #>  3    2022 003-58               USE 03 CERCADO                     3.98e8 4.58e8 #>  4    2022 004-59               USE 04 COMAS                       4.05e8 4.38e8 #>  5    2022 005-60               USE 05 SAN JUAN DE LURIGANCHO      3.81e8 4.05e8 #>  6    2022 006-61               USE 06 VITARTE                     3.61e8 4.10e8 #>  7    2022 007-62               USE 07 SAN BORJA                   2.93e8 3.22e8 #>  8    2022 017-72               DIRECCION DE EDUCACION DE LIMA     1.02e8 1.12e8 #>  9    2022 021-76               ESCUELA NACIONAL DE BELLAS ARTES   9.84e6 1.17e7 #> 10    2022 022-77               INSTITUTO PEDAGOGICO NACIONAL DE … 9.94e6 1.18e7 #> # ℹ 12 more rows #> # ℹ 10 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, sector <chr>, pliego <chr>, #> #   unidad_ejecutora <chr>  # informacion de todas las provincias de Amazonas. # notese que devuelve codigos de provincia de 4 digitos. iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_quien_gasta(         nivel = \"M\",          goblocal_o_manc = \"M\",         departamento = \"01\",         provincia = \"todos\"     ) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 7 × 15 #>   periodo cod_provincia desc_provincia            pia       pim certificacion #>     <dbl> <chr>         <chr>                   <dbl>     <dbl>         <dbl> #> 1    2022 0101          CHACHAPOYAS          54050715 137222437     130816267 #> 2    2022 0102          BAGUA                51941023  98204124      94923016 #> 3    2022 0103          BONGARA              25312167  82629966      78830517 #> 4    2022 0104          CONDORCANQUI         37364107  75840175      66238904 #> 5    2022 0105          LUYA                 28410987 105102441      99776567 #> 6    2022 0106          RODRIGUEZ DE MENDOZA 16859438  51198886      48414075 #> 7    2022 0107          UCTUBAMBA            64551770 159065909     142925475 #> # ℹ 9 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, goblocal_o_manc <chr>, #> #   departamento <chr>, provincia <chr>  # para desglosar por provincia, deben usarse solo dos digitos. # por ejemplo, para ver los municipios de la provincia de Bagua # debe usarse \"02\" iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_quien_gasta(         nivel = \"M\",          goblocal_o_manc = \"M\",         departamento = \"01\",         provincia = \"02\",         municipalidad = \"todos\"     ) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 6 × 16 #>   periodo cod_municipalidad desc_municipalidad          pia    pim certificacion #>     <dbl> <chr>             <chr>                     <dbl>  <dbl>         <dbl> #> 1    2022 010201-300022     MUNICIPALIDAD PROVINCIA… 1.51e7 2.82e7      27143174 #> 2    2022 010202-300023     MUNICIPALIDAD DISTRITAL… 2.19e7 3.47e7      34505079 #> 3    2022 010203-300024     MUNICIPALIDAD DISTRITAL… 1.94e6 3.39e6       3352729 #> 4    2022 010204-300025     MUNICIPALIDAD DISTRITAL… 6.64e5 3.49e6       3474440 #> 5    2022 010205-300026     MUNICIPALIDAD DISTRITAL… 1.01e7 1.71e7      16284737 #> 6    2022 010206-300027     MUNICIPALIDAD DISTRITAL… 2.25e6 1.12e7      10162857 #> # ℹ 10 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, nivel <chr>, goblocal_o_manc <chr>, #> #   departamento <chr>, provincia <chr>, municipalidad <chr>  # cuando no se respeta la forma, el mensaje de error # muestra la expresion regular esperada tryCatch({     iniciar_transparencia_economica(modulo = \"gasto\") %>%         elegir_periodo_anual(2022) %>%         elegir_quien_gasta(             nivel = \"M\",              goblocal_o_manc = \"M\",             departamento = \"01\",             provincia = \"0102\",             municipalidad = \"todos\"         ) }, error = function(e) print(e)) #> <simpleError: <transpaeco> object is invalid: #> - En modulo gasto, `provincia` debe hacer match con expresion regular '^[0-9]{2}$'>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_lugar.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir lugar de uso del presupuesto — elegir_lugar","title":"Elegir lugar de uso del presupuesto — elegir_lugar","text":"Estas funciones permiten desglosar la busqueda de acuerdo al lugar de uso del presupuesto. Debido que solo se pueden usar en el módulo de gasto, ambas tienen el mismo comportamiento.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_lugar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir lugar de uso del presupuesto — elegir_lugar","text":"","code":"elegir_lugar(x, departamento_meta = NULL)  elegir_donde_se_gasta(x, departamento_meta = NULL)"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_lugar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir lugar de uso del presupuesto — elegir_lugar","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada departamento_meta chr. Código de departamento, de forma \"00\" (2 digitos). Para obtener \"Callao\" usar \"07\", y para obtener 'Exterior' usar \"98\".","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_lugar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir lugar de uso del presupuesto — elegir_lugar","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_lugar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir lugar de uso del presupuesto — elegir_lugar","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_donde_se_gasta(         departamento_meta = \"todos\"     ) #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Departamento (meta): *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_donde_se_gasta(         departamento_meta = \"todos\"     ) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 26 × 12 #>    periodo cod_departamento_meta desc_departamento_meta              pia     pim #>      <dbl> <chr>                 <chr>                             <dbl>   <dbl> #>  1    2022 01                    AMAZONAS                         2.26e9 3.06e 9 #>  2    2022 02                    ANCASH                           6.59e9 1.11e10 #>  3    2022 03                    APURIMAC                         2.43e9 4.06e 9 #>  4    2022 04                    AREQUIPA                         5.70e9 8.96e 9 #>  5    2022 05                    AYACUCHO                         3.13e9 5.12e 9 #>  6    2022 06                    CAJAMARCA                        5.41e9 8.63e 9 #>  7    2022 07                    PROVINCIA CONSTITUCIONAL DEL CA… 4.64e9 5.85e 9 #>  8    2022 08                    CUSCO                            7.55e9 1.20e10 #>  9    2022 09                    HUANCAVELICA                     2.41e9 3.35e 9 #> 10    2022 10                    HUANUCO                          3.49e9 4.66e 9 #> # ℹ 16 more rows #> # ℹ 7 more variables: certificacion <dbl>, compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, departamento_meta <chr>  # cuando no se respeta la forma, el mensaje de error # muestra la expresion regular esperada tryCatch({     iniciar_transparencia_economica(modulo = \"gasto\") %>%         elegir_periodo_anual(2022) %>%         elegir_donde_se_gasta(             departamento_meta = \"2-0\"         ) }, error = function(e) print(e)) #> <simpleError: <transpaeco> object is invalid: #> - En modulo gasto, `departamento_meta` debe hacer match con expresion regular '^[0-9]{2}'>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_origen.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir el origen del presupuesto — elegir_origen","title":"Elegir el origen del presupuesto — elegir_origen","text":"Estas funciones permiten desglosar la busqueda de acuerdo al origen del financiamiento del presupuesto. elegir_con_que_se_financia() y elegir_fuentes_de_recaudacion() sirven los módulos de gasto e ingresos, respectivamente. elegir_origen() es una versión agnóstica que sirve para ámbos módulos.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_origen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir el origen del presupuesto — elegir_origen","text":"","code":"elegir_origen(   x,   fuente_financiamiento = NULL,   rubro = NULL,   tipo_de_recurso = NULL )  elegir_con_que_se_financia(   x,   fuente_financiamiento = NULL,   rubro = NULL,   tipo_de_recurso = NULL )  elegir_fuentes_de_recaudacion(   x,   fuente_financiamiento = NULL,   rubro = NULL,   tipo_de_recurso = NULL )"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_origen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir el origen del presupuesto — elegir_origen","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada fuente_financiamiento int. Código de fuente de financiamiento. En su versión más reciente va del 1 al 5. rubro chr. código de rubro, de  forma \"00\" (2 digitos). tipo_de_recurso chr, Código de tipo de recurso. tiene forma estandar, puede ser de una letra mayuscula, un digito, o dos digitos.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_origen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir el origen del presupuesto — elegir_origen","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_origen.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir el origen del presupuesto — elegir_origen","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_con_que_se_financia(         rubro = \"todos\"     ) #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Rubro: *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_con_que_se_financia(         rubro = \"todos\"     ) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 8 × 12 #>   periodo cod_rubro desc_rubro        pia     pim certificacion compromiso_anual #>     <dbl> <chr>     <chr>           <dbl>   <dbl>         <dbl>            <dbl> #> 1    2022 00        RECURSOS ORD… 1.19e11 1.26e11  122337990513     120687913503 #> 2    2022 04        CONTRIBUCION… 4.93e 9 5.05e 9    5047115254       5029616816 #> 3    2022 07        FONDO DE COM… 6.79e 9 1.03e10    9765688285       9281123709 #> 4    2022 08        IMPUESTOS MU… 3.19e 9 4.26e 9    4012570866       3763048346 #> 5    2022 09        RECURSOS DIR… 1.21e10 1.65e10   15309498719      14769007308 #> 6    2022 13        DONACIONES Y… 2.30e 8 6.06e 9    5099003630       4471450162 #> 7    2022 18        CANON Y SOBR… 1.29e10 3.06e10   27501686979      22620644131 #> 8    2022 19        RECURSOS POR… 3.81e10 3.90e10   36449624152      35258276709 #> # ℹ 5 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>, rubro <chr>  # desglose de tipo de recurso del rubro de \"13: Donaciones y transferencias\" # notese la variacion en los codigos de tipo de recurso iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_con_que_se_financia(         rubro = \"13\",         tipo_de_recurso = \"todos\"     ) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 22 × 13 #>    periodo cod_tipo_de_recurso desc_tipo_de_recurso     pia    pim certificacion #>      <dbl> <chr>               <chr>                  <dbl>  <dbl>         <dbl> #>  1    2022 A                   TRANSFERENCIAS DE EN… 0      0                  0 #>  2    2022 B                   TRANSFERENCIAS DE EN… 0      0                  0 #>  3    2022 C                   TRANSFERENCIA DE GOB… 0      0                  0 #>  4    2022 E                   TRANSFERENCIAS DE CA… 0      0                  0 #>  5    2022 N                   DONACIONES PARA APOY… 0      0                  0 #>  6    2022 O                   SUBCUENTA- TRANSFERE… 0      0                  0 #>  7    2022 P                   SUBCUENTA- TRANSFERE… 0      0                  0 #>  8    2022 0                   NORMAL                2.30e8 6.06e9    5099003630 #>  9    2022 10                  DONACIONES - AGENCIA… 0      0                  0 #> 10    2022 12                  DONACIONES -VIAJA BN  0      0                  0 #> # ℹ 12 more rows #> # ℹ 7 more variables: compromiso_anual <dbl>, #> #   atencion_de_compromiso_mensual <dbl>, devengado <dbl>, girado <dbl>, #> #   avance_percent <dbl>, rubro <chr>, tipo_de_recurso <chr>  # cuando no se respeta la forma, el mensaje de error # muestra la expresion regular esperada tryCatch({     iniciar_transparencia_economica(modulo = \"gasto\") %>%         elegir_periodo_anual(2022) %>%         elegir_con_que_se_financia(             rubro = \"13\",             tipo_de_recurso = \"AA\"         ) }, error = function(e) print(e)) #> <simpleError: <transpaeco> object is invalid: #> - En modulo gasto, `tipo_de_recurso` debe hacer match con expresion regular '(^[A-Z]$)|(^[0-9]{1,2}$)'>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_periodo_anual.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir periodo anual de consulta — elegir_periodo_anual","title":"Elegir periodo anual de consulta — elegir_periodo_anual","text":"Elegir periodo anual de consulta","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_periodo_anual.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir periodo anual de consulta — elegir_periodo_anual","text":"","code":"elegir_periodo_anual(x, periodo = NULL)"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_periodo_anual.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir periodo anual de consulta — elegir_periodo_anual","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada periodo numeric. Periodo anual de consulta. Actualmente solo se puede consultar partir del 2012.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_periodo_anual.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir periodo anual de consulta — elegir_periodo_anual","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_periodo_anual.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir periodo anual de consulta — elegir_periodo_anual","text":"","code":"iniciar_transparencia_economica() %>%     elegir_periodo_anual(periodo = 2022) #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  # pueden consultarse multiples periodos al mismo tiempo # por ejemplo, los dos primeros años de pandemia por Covid 19 iniciar_transparencia_economica() %>%     elegir_periodo_anual(periodo = 2020:2021) %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 2 × 10 #>   periodo total          pia          pim certificacion compromiso_anual #>     <int> <chr>        <dbl>        <dbl>         <dbl>            <dbl> #> 1    2020 TOTAL 177367859707 217254208912  199474122166     191603364023 #> 2    2021 TOTAL 183029770158 227932217391  212472939298     205036051241 #> # ℹ 4 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>  # se emite mensaje de error si se intenta elegir periodos no abarcados tryCatch({     iniciar_transparencia_economica(modulo = \"gasto\") %>%         elegir_periodo_anual(periodo = 2011) }, error = function(e) print(e)) #> <error/rlang_error> #> Error in `elegir_periodo_anual()`: #> ! Periodo anual debe estar entre 2012 y 2023 #> --- #> Backtrace: #>      ▆ #>   1. ├─pkgdown::build_site_github_pages(new_process = FALSE, install = FALSE) #>   2. │ └─pkgdown::build_site(...) #>   3. │   └─pkgdown:::build_site_local(...) #>   4. │     └─pkgdown::build_reference(...) #>   5. │       └─purrr::map(...) #>   6. │         └─purrr:::map_(\"list\", .x, .f, ..., .progress = .progress) #>   7. │           ├─purrr:::with_indexed_errors(...) #>   8. │           │ └─base::withCallingHandlers(...) #>   9. │           ├─purrr:::call_with_cleanup(...) #>  10. │           └─pkgdown (local) .f(.x[[i]], ...) #>  11. │             ├─base::withCallingHandlers(...) #>  12. │             └─pkgdown:::data_reference_topic(...) #>  13. │               └─pkgdown:::run_examples(...) #>  14. │                 └─pkgdown:::highlight_examples(code, topic, env = env) #>  15. │                   └─downlit::evaluate_and_highlight(...) #>  16. │                     └─evaluate::evaluate(code, child_env(env), new_device = TRUE, output_handler = output_handler) #>  17. │                       └─evaluate:::evaluate_call(...) #>  18. │                         ├─evaluate (local) timing_fn(...) #>  19. │                         ├─evaluate (local) handle(...) #>  20. │                         │ └─base::try(f, silent = TRUE) #>  21. │                         │   └─base::tryCatch(...) #>  22. │                         │     └─base (local) tryCatchList(expr, classes, parentenv, handlers) #>  23. │                         │       └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]]) #>  24. │                         │         └─base (local) doTryCatch(return(expr), name, parentenv, handler) #>  25. │                         ├─base::withCallingHandlers(...) #>  26. │                         ├─base::withVisible(...) #>  27. │                         └─evaluate:::eval_with_user_handlers(expr, envir, enclos, user_handlers) #>  28. │                           └─base::eval(expr, envir, enclos) #>  29. │                             └─base::eval(expr, envir, enclos) #>  30. │                               ├─base::tryCatch(...) #>  31. │                               │ └─base (local) tryCatchList(expr, classes, parentenv, handlers) #>  32. │                               │   └─base (local) tryCatchOne(expr, names, parentenv, handlers[[1L]]) #>  33. │                               │     └─base (local) doTryCatch(return(expr), name, parentenv, handler) #>  34. │                               └─iniciar_transparencia_economica(modulo = \"gasto\") %>% ... #>  35. └─perutranspaeconomica::elegir_periodo_anual(., periodo = 2011)"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_tiempo.html","id":null,"dir":"Reference","previous_headings":"","what":"Elegir el tiempo en que se usa el presupuesto — elegir_tiempo","title":"Elegir el tiempo en que se usa el presupuesto — elegir_tiempo","text":"Estas funciones permiten desglosar la busqueda de acuerdo al tiempo en el periodo anual. elegir_cuando_se_hizo_gasto() y elegir_cuando_se_hizo_recaudacion() sirven los módulos de gasto e ingresos, respectivamente. elegir_tiempo() es una versión agnóstica que sirve para ámbos módulos. Al desglosar por mes o trimestre se pierde información de PIA, PIM y porcentaje de avance (en gasto).","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_tiempo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elegir el tiempo en que se usa el presupuesto — elegir_tiempo","text":"","code":"elegir_tiempo(x, trimestre = NULL, mes = NULL)  elegir_cuando_se_hizo_gasto(x, trimestre = NULL, mes = NULL)  elegir_cuando_se_hizo_recaudacion(x, trimestre = NULL, mes = NULL)"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_tiempo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elegir el tiempo en que se usa el presupuesto — elegir_tiempo","text":"x Objeto de clase <transpaeco> recipiente de los parámetros de la consulta deseada trimestre int. Número del 1 al 4 mes int. Número del 1 al 12.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_tiempo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elegir el tiempo en que se usa el presupuesto — elegir_tiempo","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/elegir_tiempo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elegir el tiempo en que se usa el presupuesto — elegir_tiempo","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_cuando_se_hizo_gasto(mes = \"todos\") #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> • Periodo anual: 2022 #> • Mes: *todos* #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta  iniciar_transparencia_economica(modulo = \"gasto\") %>%     elegir_periodo_anual(2022) %>%     elegir_cuando_se_hizo_gasto(mes = \"todos\") %>%     consultar() #> ℹ Iniciando consulta #> ℹ Unificando consultas... #> ✔ Consultas realizadas y unificadas #> # A tibble: 12 × 12 #>    periodo cod_mes desc_mes     pia   pim certificacion compromiso_anual #>      <dbl> <chr>   <chr>      <dbl> <dbl>         <dbl>            <dbl> #>  1    2022 1       'Enero        NA    NA  103760176942      83786718545 #>  2    2022 2       'Febrero      NA    NA   22122399988      14571055901 #>  3    2022 3       'Marzo        NA    NA   18770905498      15052437795 #>  4    2022 4       'Abril        NA    NA   11024517329      11173480674 #>  5    2022 5       'Mayo         NA    NA    9440914773       9724750158 #>  6    2022 6       'Junio        NA    NA    8241901905       9607163097 #>  7    2022 7       'Julio        NA    NA    7639402271       9590125437 #>  8    2022 8       'Agosto       NA    NA   12105649334      12597151772 #>  9    2022 9       'Setiembre    NA    NA    7118790229       9769371282 #> 10    2022 10      'Octubre      NA    NA    7674671123      10753135168 #> 11    2022 11      'Noviembre    NA    NA    6314807756      10162306626 #> 12    2022 12      'Diciembre    NA    NA   11309041251      19093384230 #> # ℹ 5 more variables: atencion_de_compromiso_mensual <dbl>, devengado <dbl>, #> #   girado <dbl>, avance_percent <dbl>, mes <chr>  # se emite mensaje de error si se intenta elegir periodos no abarcados tryCatch({     iniciar_transparencia_economica(modulo = \"gasto\") %>%         elegir_periodo_anual(periodo = 2022) %>%         elegir_cuando_se_hizo_gasto(trimestre = \"5\")          }, error = function(e) print(e)) #> <simpleError: <transpaeco> object is invalid: #> - (En modulo gasto, `trimestre` debe ser uno de 1, 2, 3, 4)>"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/iniciar_transparencia_economica.html","id":null,"dir":"Reference","previous_headings":"","what":"Iniciar consulta de transparencia economica — iniciar_transparencia_economica","title":"Iniciar consulta de transparencia economica — iniciar_transparencia_economica","text":"Iniciar consulta de transparencia economica","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/iniciar_transparencia_economica.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Iniciar consulta de transparencia economica — iniciar_transparencia_economica","text":"","code":"iniciar_transparencia_economica(   modulo = \"gasto\",   actualizacion = \"diaria\",   psize = 1000L )"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/iniciar_transparencia_economica.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Iniciar consulta de transparencia economica — iniciar_transparencia_economica","text":"modulo chr. Uno de c(\"gasto\", \"ingreso\") actualizacion chr. Uno de c(\"mensual\", \"diaria\") psize Cantidad máxima de filas del resultado. cambiar menos que se sepa con mucha seguridad lo que implica.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/iniciar_transparencia_economica.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Iniciar consulta de transparencia economica — iniciar_transparencia_economica","text":"Un objeto con clase <transpaeco>","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/iniciar_transparencia_economica.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Iniciar consulta de transparencia economica — iniciar_transparencia_economica","text":"","code":"iniciar_transparencia_economica(modulo = \"gasto\") #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta iniciar_transparencia_economica(modulo = \"gasto\", actualizacion = \"diaria\") #>  #> ── Seguimiento al gasto presupuestal (actualizacion diaria) ──────────────────── #>  #> ── Parametros de consulta ── #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta iniciar_transparencia_economica(modulo = \"ingreso\") #>  #> ── Seguimiento al ingreso presupuestal (actualizacion diaria) ────────────────── #>  #> ── Parametros de consulta ── #>  #> ── Data ── #>  #> ℹ No se ha ejecutado ninguna consulta"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":[]},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"breaking-development-version","dir":"Changelog","previous_headings":"","what":"Breaking","title":"perutranspaeconomica (development version)","text":"Se ha creado la clase transpaeco() como reemplazo de sep_df. Esta nueva clase está basada en S7, usa los mismos métodos definidos previamente, y permitirá soporte para consultas del módulo de ingresos. sep_df llevaba ese nombre porque solo permitía hacer Seguimiento la Ejecución Presupuestal (gasto). En línea con dicho cambio, la función que inicia el flujo de consulta pasa llamarse iniciar_transparencia_economica() en lugar de seguimiento_ep(). Se requerirá usar elegir_periodo_anual() obligatoriamente antes de cualquier otro parámetro. De esta manera se recibe feedback al instante y solo al momento de ejecutar la consulta. elegir_periodo_anual() ya tiene valores por defecto y requerirá que se le especifice un vector numérico de años. Anteriormente tomaba como referencia el año en curso, pero esto podría generar problemas al re-ejecutar código escrito previamente, especialmente en los primeros meses del año.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"perutranspaeconomica-031","dir":"Changelog","previous_headings":"","what":"perutranspaeconomica 0.3.1","title":"perutranspaeconomica 0.3.1","text":"Cambios para evitar warnings de dplyr v1.1.0","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"perutranspaeconomica-030","dir":"Changelog","previous_headings":"","what":"perutranspaeconomica 0.3.0","title":"perutranspaeconomica 0.3.0","text":"Se corrigió un bug en la impresión de la metadata de consulta para el parámetro. Se mejoró muchísimo la documentación de la funcionalidad existente. Consultar vignette(\"elegir-parametros\", package = \"perutranspaeconomica\") Se añade un sitio web para referencia","code":""},{"path":[]},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"sep_df-0-2-0","dir":"Changelog","previous_headings":"","what":"‘sep_df’","title":"perutranspaeconomica 0.2.0","text":"Se creó la clase ‘sep_df’ como subclase de ‘tibble::tbl_df’. Los objetos ‘sep_df’ cuentan con un método print.sep_df() que muestra los parámetros de consulta mientras se van armando.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"testing-0-2-0","dir":"Changelog","previous_headings":"","what":"Testing","title":"perutranspaeconomica 0.2.0","text":"El paquete ha incorporado una estructura de testing en el que todas sus funciones exportadas inician o devuelven un objeto de clase ‘sep_df’. El paquete cuenta con R CMD check automático, para mayor robustez.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"iniciar-elegir-y-consultar-0-2-0","dir":"Changelog","previous_headings":"","what":"Iniciar, elegir y consultar.","title":"perutranspaeconomica 0.2.0","text":"Para hacer consultas es necesario combinar las funciones seguimiento_ep(), alguna o varias del grupo elegir_*() y consultar(). Todos los parámetros indicados con funciones elegir_*() aceptan vectores con longitud mayor 1. De esta manera se pueden hacer múltiples consultas la vez. Todos los parámetros indicados con funciones elegir_*() pueden aceptar el string 'todos'. De hecho, cualquier consulta requiere que al menos un parámetro esté indicado como 'todos'.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"gestión-del-repositorio-0-2-0","dir":"Changelog","previous_headings":"","what":"Gestión del repositorio","title":"perutranspaeconomica 0.2.0","text":"partir de la versión 0.2.0, main pasa ser la versión estable, por compatibilidad con la infraestructura de r-universe. La versión en desarrollo será trabajada en devel, que será el branch que recibirá pull requests. El paquete deja de ser considerado experimental y pasa ser estable. El README reflejará ese cambio.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"perutranspaeconomica-010","dir":"Changelog","previous_headings":"","what":"perutranspaeconomica 0.1.0","title":"perutranspaeconomica 0.1.0","text":"Se puede usar gasto() para hacer consultas sobre la ejecución presupuestal con actualización diaria o mensual. Se puede pipear make_gasto_query() y perform_gasto_query() para usar gasto() aprovechando el autocompletado.","code":""},{"path":"https://perutranspaeconomica.samuelenrique.com/news/index.html","id":"perutranspaeconomica-0009000","dir":"Changelog","previous_headings":"","what":"perutranspaeconomica 0.0.0.9000","title":"perutranspaeconomica 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
